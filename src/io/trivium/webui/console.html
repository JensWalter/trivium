<html>
<head>
	<title>trivium shell</title>
<link href="css/sandbox.css" rel="stylesheet" />
<script>
 function shutdown(){
 	$.ajax({
	  url: "/api/shutdown"
	}).done(function(data) {
		var arr= sandbox.model.get('history');
		arr[arr.length-1].result=data;
//	  sandbox.model.addHistory({'command':'shutdown','result':'shutdown complete'});
		sandbox.model.change();
	});
	return "waiting for response ...";
 }
 function classpath(path){
 	if(path == undefined || path==''){
 		path='/dummy';
 	}
 	$.ajax({
 		  type: "POST",
		  url: "/api/classpath",
		  data: path
		}).done(function(data) {
			var arr= sandbox.model.get('history');
			arr[arr.length-1].result=data;
			sandbox.model.change();
		});
	return "waiting for response ...";
 }
</script>
</head>
<body>
<div id="sandbox">shell loading...</div>
<!-- The sandbox template -->
<script type="text/template" id="tplSandbox">
	<pre class="output"></pre>
	<div class="input">
		<textarea rows="1" placeholder="<%= placeholder %>"></textarea>
	</div>
</script>

<!-- The command/result template (NB whitespace/line breaks matter inside <pre> tag): -->
<script type="text/template" id="tplCommand"><% if (! _hidden) { %><span class="command"><%= command %></span>
<span class="prefix"><%= this.resultPrefix %></span><span class="<%= _class %>"><%= result %></span>
<% } %></script>

<script src="js/underscore.min.js"></script>
<script src="js/backbone.min.js"></script>
<script src="js/backbone-localstorage.min.js"></script><!-- opt -->
<script src="js/jquery.min.js"></script>

<script src="js/sandbox-console.js"></script>
<script type="text/javascript">
	jQuery(document).ready(function($) {
		// Create the sandbox:
		window.sandbox = new Sandbox.View({
			el : $('#sandbox'),
			model : new Sandbox.Model()
		});
	});
	// Create the sandbox:
window.sandbox = new Sandbox.View({
	// these two are required:
	model : new Sandbox.Model(), // see below for more
	el : $('#sandbox'), // or etc.
	
	// these are optional (defaults are given here):
	resultPrefix : "  => ",
	helpText : "type javascript commands into the console, hit enter to evaluate. \n[up/down] to scroll through history, ':clear' to reset it. \n[alt + return/up/down] for returns and multi-line editing.",
	tabCharacter : "\t",
	placeholder : "// type some javascript and hit enter (:help for info)"
});
</script>
</body>
</html>